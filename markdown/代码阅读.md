



## 1

```c
int* _errno();//为指针函数，返回值是一个指针int*
#define errno (*_errno())//去指针函数返回值的值
```



```c
typedef void __signalfn_t(int);
typedef __signalfn_t *__sighandler_t;
 __sighandler_t save_alrm;

typedef int (*p)(int ,int);//定义一个函数指针类型
//等价于下面吗？
typedef int p(int ,int );
typedef p * p1;
p1 a;
```



```c
struct list * list_new (void)//指针函数，返回类型为结构体指针 struct list *
{
    struct list *new;//定义一个指针，初始化为NULL，或者指向具体的地址：指向一个存在的地址，或者给它分配空间

    new = malloc(sizeof(struct list));
    memset (new, 0, sizeof (struct list));
    return new;
}
```



```c
#define MSG_MODE_SHIFT          8
```



![image-20221022105159368](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20221022105159368.png)



## 2

```c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include<unistd.h>
#include <assert.h> 

int main()
{
	
	char mqtt_url[] =  "111.10.45.234:31080";
	char a[256] = {0};
	int b;
	
	if(strlen(mqtt_url))
    {
         sscanf(mqtt_url, "%[^:]:%d", a, &b);
    }
	printf("a = %s\n b= %d\n",a,b);

}
```

![image-20221026091619321](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20221026091619321.png)
